<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>CWBluetoothConnection Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">Connichiwa </a></h1>
				<a id="developerHome" href="../index.html">Mario Schreiner</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">CWBluetoothConnection Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/IPWriteState">&nbsp;&nbsp;&nbsp;&nbsp;IPWriteState</option>
	
	<option value="//api/name/averageRSSI">&nbsp;&nbsp;&nbsp;&nbsp;averageRSSI</option>
	
	<option value="//api/name/connectionTries">&nbsp;&nbsp;&nbsp;&nbsp;connectionTries</option>
	
	<option value="//api/name/didError">&nbsp;&nbsp;&nbsp;&nbsp;didError</option>
	
	<option value="//api/name/identifier">&nbsp;&nbsp;&nbsp;&nbsp;identifier</option>
	
	<option value="//api/name/initialDataState">&nbsp;&nbsp;&nbsp;&nbsp;initialDataState</option>
	
	<option value="//api/name/lastSeen">&nbsp;&nbsp;&nbsp;&nbsp;lastSeen</option>
	
	<option value="//api/name/lastSentRSSI">&nbsp;&nbsp;&nbsp;&nbsp;lastSentRSSI</option>
	
	<option value="//api/name/lastSentRSSIDate">&nbsp;&nbsp;&nbsp;&nbsp;lastSentRSSIDate</option>
	
	<option value="//api/name/mcConnectionTries">&nbsp;&nbsp;&nbsp;&nbsp;mcConnectionTries</option>
	
	<option value="//api/name/mcSession">&nbsp;&nbsp;&nbsp;&nbsp;mcSession</option>
	
	<option value="//api/name/mcState">&nbsp;&nbsp;&nbsp;&nbsp;mcState</option>
	
	<option value="//api/name/measuredPower">&nbsp;&nbsp;&nbsp;&nbsp;measuredPower</option>
	
	<option value="//api/name/name">&nbsp;&nbsp;&nbsp;&nbsp;name</option>
	
	<option value="//api/name/peripheral">&nbsp;&nbsp;&nbsp;&nbsp;peripheral</option>
	
	<option value="//api/name/supportsMC">&nbsp;&nbsp;&nbsp;&nbsp;supportsMC</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/_distanceForMeasuredPower:RSSI:">&nbsp;&nbsp;&nbsp;&nbsp;+ _distanceForMeasuredPower:RSSI:</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/addNewRSSIMeasure:">&nbsp;&nbsp;&nbsp;&nbsp;- addNewRSSIMeasure:</option>
	
	<option value="//api/name/averageDistance">&nbsp;&nbsp;&nbsp;&nbsp;- averageDistance</option>
	
	<option value="//api/name/didSendDistance">&nbsp;&nbsp;&nbsp;&nbsp;- didSendDistance</option>
	
	<option value="//api/name/init">&nbsp;&nbsp;&nbsp;&nbsp;- init</option>
	
	<option value="//api/name/initWithPeripheral:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithPeripheral:</option>
	
	<option value="//api/name/isReady">&nbsp;&nbsp;&nbsp;&nbsp;- isReady</option>
	
	<option value="//api/name/lastSentDistance">&nbsp;&nbsp;&nbsp;&nbsp;- lastSentDistance</option>
	
	<option value="//api/name/timeSinceLastSentRSSI">&nbsp;&nbsp;&nbsp;&nbsp;- timeSinceLastSentRSSI</option>
	
	<option value="//api/name/updateLastSeen">&nbsp;&nbsp;&nbsp;&nbsp;- updateLastSeen</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Extension Methods">Extension Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/IPWriteState">IPWriteState</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/averageRSSI">averageRSSI</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/connectionTries">connectionTries</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/didError">didError</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/identifier">identifier</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initialDataState">initialDataState</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastSeen">lastSeen</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastSentRSSI">lastSentRSSI</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastSentRSSIDate">lastSentRSSIDate</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/mcConnectionTries">mcConnectionTries</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/mcSession">mcSession</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/mcState">mcState</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/measuredPower">measuredPower</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/name">name</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/peripheral">peripheral</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/supportsMC">supportsMC</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/_distanceForMeasuredPower:RSSI:">_distanceForMeasuredPower:RSSI:</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addNewRSSIMeasure:">addNewRSSIMeasure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/averageDistance">averageDistance</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/didSendDistance">didSendDistance</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/init">init</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithPeripheral:">initWithPeripheral:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isReady">isReady</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastSentDistance">lastSentDistance</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/timeSinceLastSentRSSI">timeSinceLastSentRSSI</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/updateLastSeen">updateLastSeen</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="CWBluetoothConnection Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">CWBluetoothConnection Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">CWBluetoothConnection.h<br />CWBluetoothConnection.m</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Each instance of this class is a data container for the bluetooth-related data of a connection to another device. &ldquo;Connection&rdquo; does not necessarily mean a fully established connection in this case. An instance of CWBluetoothConnection can also represent a device that has been detected nearby but no connection is established, or a device that has been seen previously but that was lost. Besides that, this class stores the state of the connection to another device, its received initial data, can receive new RSSI measurements for the device or keep track of send and received data.</p>

<p>The α value used when calculating the moving average for the BT Connection RSSI.
The higher this value, the faster changes to device distances will be adapted, but the more vulnerable the distance is to outlier</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/initialDataState">&nbsp;&nbsp;initialDataState</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/IPWriteState">&nbsp;&nbsp;IPWriteState</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/mcState">&nbsp;&nbsp;mcState</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/didError">&nbsp;&nbsp;didError</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/identifier">&nbsp;&nbsp;identifier</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/name">&nbsp;&nbsp;name</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/measuredPower">&nbsp;&nbsp;measuredPower</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/supportsMC">&nbsp;&nbsp;supportsMC</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/peripheral">&nbsp;&nbsp;peripheral</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/lastSeen">&nbsp;&nbsp;lastSeen</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/averageRSSI">&nbsp;&nbsp;averageRSSI</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/lastSentRSSI">&nbsp;&nbsp;lastSentRSSI</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/connectionTries">&nbsp;&nbsp;connectionTries</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/mcSession">&nbsp;&nbsp;mcSession</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/mcConnectionTries">&nbsp;&nbsp;mcConnectionTries</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithPeripheral:">&ndash;&nbsp;initWithPeripheral:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addNewRSSIMeasure:">&ndash;&nbsp;addNewRSSIMeasure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/updateLastSeen">&ndash;&nbsp;updateLastSeen</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/didSendDistance">&ndash;&nbsp;didSendDistance</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/timeSinceLastSentRSSI">&ndash;&nbsp;timeSinceLastSentRSSI</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/averageDistance">&ndash;&nbsp;averageDistance</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/lastSentDistance">&ndash;&nbsp;lastSentDistance</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/isReady">&ndash;&nbsp;isReady</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/init">&ndash;&nbsp;init</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/_distanceForMeasuredPower:RSSI:">+&nbsp;_distanceForMeasuredPower:RSSI:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Extension Methods" name="task_Extension Methods"></a>
						<h3 class="subsubtitle task-title">Extension Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/lastSentRSSIDate">&nbsp;&nbsp;lastSentRSSIDate</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/IPWriteState" title="IPWriteState"></a>
	<h3 class="subsubtitle method-title">IPWriteState</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) CWBluetoothConnectionIPWriteState IPWriteState</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/averageRSSI" title="averageRSSI"></a>
	<h3 class="subsubtitle method-title">averageRSSI</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The current average RSSI, results in a number of algorithms applied to RSSI measurements in order to compensate for outliers and jitter</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly) double averageRSSI</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/connectionTries" title="connectionTries"></a>
	<h3 class="subsubtitle method-title">connectionTries</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) int connectionTries</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/didError" title="didError"></a>
	<h3 class="subsubtitle method-title">didError</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) BOOL didError</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/identifier" title="identifier"></a>
	<h3 class="subsubtitle method-title">identifier</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The unique Connichiwa identifier of the other device</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readwrite, strong) NSString *identifier</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initialDataState" title="initialDataState"></a>
	<h3 class="subsubtitle method-title">initialDataState</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) CWBluetoothConnectionInitialDataState initialDataState</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/lastSeen" title="lastSeen"></a>
	<h3 class="subsubtitle method-title">lastSeen</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Saves the date this device was last seen via Bluetooth</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly) NSDate *lastSeen</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/lastSentRSSI" title="lastSentRSSI"></a>
	<h3 class="subsubtitle method-title">lastSentRSSI</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The average RSSI at the point were <a href="#//api/name/didSendDistance">didSendDistance</a> was last called</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly) double lastSentRSSI</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/lastSentRSSIDate" title="lastSentRSSIDate"></a>
	<h3 class="subsubtitle method-title">lastSentRSSIDate</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The date where <a href="#//api/name/didSendDistance">didSendDistance</a> was called last, used to calculate the result of <a href="#//api/name/timeSinceLastSentRSSI">timeSinceLastSentRSSI</a></p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readwrite, strong) NSDate *lastSentRSSIDate</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/mcConnectionTries" title="mcConnectionTries"></a>
	<h3 class="subsubtitle method-title">mcConnectionTries</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) int mcConnectionTries</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/mcSession" title="mcSession"></a>
	<h3 class="subsubtitle method-title">mcSession</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite, strong) MCSession *mcSession</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/mcState" title="mcState"></a>
	<h3 class="subsubtitle method-title">mcState</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) CWBluetoothConnectionMCState mcState</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/measuredPower" title="measuredPower"></a>
	<h3 class="subsubtitle method-title">measuredPower</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The measured power of the other device&rsquo;s BT transmitter, used to calculate the distance to the other device</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readwrite) int measuredPower</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/name" title="name"></a>
	<h3 class="subsubtitle method-title">name</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite, strong) NSString *name</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/peripheral" title="peripheral"></a>
	<h3 class="subsubtitle method-title">peripheral</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The CBPeripheral instance associated with the device represented by this connection</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly) CBPeripheral *peripheral</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/supportsMC" title="supportsMC"></a>
	<h3 class="subsubtitle method-title">supportsMC</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readwrite) BOOL supportsMC</code></div>

    
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/_distanceForMeasuredPower:RSSI:" title="_distanceForMeasuredPower:RSSI:"></a>
	<h3 class="subsubtitle method-title">_distanceForMeasuredPower:RSSI:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calculates the distance for a given RSSI and a given measured power. It then returns the distance in meters as a double. Please note that there are several algorithms that do this (the exact algorithm used by Apple in their iBeacon implementation is unknown) and that the result can vary HEAVILY. In a good environment, this can be quite accurate but if there are a lot for devices nearby, the distance between the two devices is large or there are obstacles between the two devices, this calculation can lead to very wrong results.
The current algorithm is based on <a href="http://stackoverflow.com/questions/20416218/understanding-ibeacon-distancing/20434019">http://stackoverflow.com/questions/20416218/understanding-ibeacon-distancing/20434019</a>#20434019</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (double)_distanceForMeasuredPower:(int)<em>power</em> RSSI:(double)<em>RSSI</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>power</em></dt>
			<dd><p>The measured power for the device the RSSI belongs to</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>RSSI</em></dt>
			<dd><p>The RSSI that should be converted into a distance</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The distance calculated based on the RSSI and measured power, in meters</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.m</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addNewRSSIMeasure:" title="addNewRSSIMeasure:"></a>
	<h3 class="subsubtitle method-title">addNewRSSIMeasure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds a new RSSI measurement to this device&rsquo;s RSSI. Using different algorithms, outlier RSSI&rsquo;s or jittering is reduce, the results of this algorithms can be found by retrieving <a href="#//api/name/averageRSSI">averageRSSI</a> from this class. Note that the original RSSI measurements can not be restored.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addNewRSSIMeasure:(double)<em>rssi</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>rssi</em></dt>
			<dd><p>The measured RSSI for the device</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/averageDistance" title="averageDistance"></a>
	<h3 class="subsubtitle method-title">averageDistance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The <a href="#//api/name/averageRSSI">averageRSSI</a> transformed into a distance</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (double)averageDistance</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The distance of the device according to <a href="#//api/name/averageRSSI">averageRSSI</a>, in meters</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/didSendDistance" title="didSendDistance"></a>
	<h3 class="subsubtitle method-title">didSendDistance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This should be called after the distance of this device was send to other Connichiwa components. It will save the current time and the current <a href="#//api/name/averageRSSI">averageRSSI</a> and make them available via <a href="#//api/name/lastSentRSSI">lastSentRSSI</a> and <a href="#//api/name/timeSinceLastSentRSSI">timeSinceLastSentRSSI</a>. This can be used to determine the time passed or the RSSI change since the last RSSI send.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)didSendDistance</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/init" title="init"></a>
	<h3 class="subsubtitle method-title">init</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Should not be used, a CWBluetoothConnection without a CBPeripheral is invalid. Calling this method will raise an exception immediatly</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (instancetype)init</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>nil</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithPeripheral:" title="initWithPeripheral:"></a>
	<h3 class="subsubtitle method-title">initWithPeripheral:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initializes a new CWBluetoothConnection for the given CBPeripheral. For each CBPeripheral, and therefore for each discovered device, only one CWBluetoothConnection should be created</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (instancetype)initWithPeripheral:(CBPeripheral *)<em>peripheral</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>peripheral</em></dt>
			<dd><p>The CBPeriphal that represents this device in the BT environment</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A new CWBluetoothConnection instance</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isReady" title="isReady"></a>
	<h3 class="subsubtitle method-title">isReady</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Determines if the device is ready to be used by other Connichiwa components</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)isReady</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the device can be used by other Connichiwa components, otherwise NO</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/lastSentDistance" title="lastSentDistance"></a>
	<h3 class="subsubtitle method-title">lastSentDistance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The <a href="#//api/name/lastSentRSSI">lastSentRSSI</a> transformed into a distance</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (double)lastSentDistance</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The distance of the device when the RSSI was last sent, in meters</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/timeSinceLastSentRSSI" title="timeSinceLastSentRSSI"></a>
	<h3 class="subsubtitle method-title">timeSinceLastSentRSSI</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The amount of time that elapsed since the last time <a href="#//api/name/didSendDistance">didSendDistance</a> was called</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSTimeInterval)timeSinceLastSentRSSI</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A time interval in seconds</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/updateLastSeen" title="updateLastSeen"></a>
	<h3 class="subsubtitle method-title">updateLastSeen</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Should be called every time the device is detected via Bluetooth, remembers when the device was last seen</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)updateLastSeen</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CWBluetoothConnection.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2015 Mario Schreiner. All rights reserved. (Last updated: 2015-06-13)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>